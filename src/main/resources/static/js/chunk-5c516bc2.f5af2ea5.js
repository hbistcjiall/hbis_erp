(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5c516bc2"],{"07e3":function(t,e){var a={}.hasOwnProperty;t.exports=function(t,e){return a.call(t,e)}},"1bc3":function(t,e,a){var n=a("f772");t.exports=function(t,e){if(!n(t))return t;var a,r;if(e&&"function"==typeof(a=t.toString)&&!n(r=a.call(t)))return r;if("function"==typeof(a=t.valueOf)&&!n(r=a.call(t)))return r;if(!e&&"function"==typeof(a=t.toString)&&!n(r=a.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},"1ec9":function(t,e,a){var n=a("f772"),r=a("e53d").document,i=n(r)&&n(r.createElement);t.exports=function(t){return i?r.createElement(t):{}}},"25eb":function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},"294c":function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},"35e8":function(t,e,a){var n=a("d9f6"),r=a("aebd");t.exports=a("8e60")?function(t,e,a){return n.f(t,e,r(1,a))}:function(t,e,a){return t[e]=a,t}},"3fd1":function(t,e,a){"use strict";a.r(e),a("cadf"),a("551c"),a("f751"),a("097d");var n=a("e814"),r=a.n(n),i={name:"xyhmxlb",data:function(){return{updModal:!1,xyhmxlbData:{beginTime:"",endTime:"",protocolYear:"",steelMills:"",varieties:"",page:"0",limit:"10"},begin:"",end:"",year:"",protocolAccountId:"",dataCount:0,pageSize:10,xia:0,columns12:[{title:"序号",align:"center",type:"index"},{title:"上传时间",align:"center",width:100,key:"UPLOADTIME"},{title:"协议年份",align:"center",key:"PROTOCOLYEAR"},{title:"用户名称(全称)",align:"center",key:"ACCOUNTNAME"},{title:"品种",align:"center",key:"VARIETIES"},{title:"主销售区域",align:"center",key:"MAINSALESREGIONAL"},{title:"辅助销售区域一",align:"center",key:"AIDEDSALESREGIONALONE"},{title:"辅助销售区域二",align:"center",key:"AIDEDSALESREGIONALTWO"},{title:"钢厂",align:"center",key:"STEELMILLS"},{title:"年协议量(吨)",align:"center",key:"ANNUALAGREEMENTVOLUME"},{title:"操作",slot:"action",align:"center",width:"260px"}],fecthdata6:[],resDatas:[],updformValidate:{accountName:"",aidedSalesRegionalOne:"",aidedSalesRegionalTwo:"",annualAgreementVolume:"",mainSalesRegional:"",protocolAccountId:"",protocolYear:"",steelMills:"",varieties:""},updYear:"",updruleValidate:{accountName:[{required:!0,message:"用户名称",trigger:"blur"}],mainSalesRegional:[{required:!0,message:"主销售区域",trigger:"blur"}],varieties:[{required:!0,message:"品种",trigger:"blur"}],steelMills:[{required:!0,message:"钢厂",trigger:"blur"}]}}},created:function(){this.handleListApproveHistory()},methods:{handleListApproveHistory:function(){var t=this;this.year&&(this.xyhmxlbData.protocolYear=new Date(this.year).getFullYear()),this.begin&&(this.xyhmxlbData.beginTime=this.utils.format(this.begin)),this.end&&(this.xyhmxlbData.endTime=this.utils.format(this.end)),fetch(this.$store.state.fetchPath+"/protocolAccountDetails/list",{method:"POST",headers:this.$store.state.fetchHeader,body:this.utils.formatParams(this.xyhmxlbData),credentials:"include"}).then(function(e){if(200==e.status)return e.text();t.$Message.error("请求失败！")}).then(function(e){e=e&&0<e.length?JSON.parse(e):[],t.resDatas=e.data,t.dataCount=r()(e.count),t.pageSize=r()(e.pageSize),t.dataCount<t.pageSize?t.fecthdata6=t.resDatas:t.fecthdata6=t.resDatas.slice(0,t.pageSize)})},changepage:function(t){this.dictData.page=t,this.handleListApproveHistory()},serTime:function(t){this.Dates=t,""==this.Dates[0]?(this.xyhmxlbData.beginTime="",this.xyhmxlbData.endTime=""):(this.xyhmxlbData.beginTime=this.Dates[0],this.xyhmxlbData.endTime=this.Dates[1])},search:function(){this.handleListApproveHistory()},clearall:function(){this.xyhmxlbData.beginTime="",this.xyhmxlbData.endTime="",this.xyhmxlbData.steelMills="",this.xyhmxlbData.limit="10",this.xyhmxlbData.page="1",this.xyhmxlbData.protocolYear="",this.xyhmxlbData.varieties="",this.begin="",this.end="",this.year=""},checkedel:function(){this.xyhmxlbData.varieties="",this.year="",this.xyhmxlbData.steelMills=""},downLoad:function(){var t=this;fetch(this.$store.state.fetchPath+"/protocolAccountDetails/exportlist",{method:"POST",headers:this.$store.state.fetchHeader,body:this.utils.formatParams(this.xyhmxlbData),credentials:"include"}).then(function(e){if(200==e.status)return e.text();t.$Message.error("请求失败！")}).then(function(){t.handleListApproveHistory()})},remove:function(t){var e=this;this.$Modal.confirm({title:"提示",content:"确认删除吗？",onOk:function(){e.protocolAccountId=t.PROTOCOLACCOUNTID,fetch(e.$store.state.fetchPath+"/protocolAccountDetails/delete",{method:"POST",headers:e.$store.state.fetchHeader,body:e.utils.formatParams(e.delData),credentials:"include"}).then(function(t){if(200==t.status)return t.text();e.$Message.error("请求失败！")}).then(function(){e.handleListApproveHistory()})}})},updD:function(t){this.updModal=!0,this.updformValidate.protocolAccountId=t.PROTOCOLACCOUNTID,this.updYear=t.PROTOCOLYEAR,this.updformValidate.accountName=t.ACCOUNTNAME,this.updformValidate.varieties=t.VARIETIES,this.updformValidate.mainSalesRegional=t.MAINSALESREGIONAL,this.updformValidate.aidedSalesRegionalOne=t.AIDEDSALESREGIONALONE,this.updformValidate.aidedSalesRegionalTwo=t.AIDEDSALESREGIONALTWO,this.updformValidate.steelMills=t.STEELMILLS,this.updformValidate.annualAgreementVolume=t.ANNUALAGREEMENTVOLUME},updok:function(){var t=this;this.updYear&&(this.updformValidate.protocolYear=new Date(this.updYear).getFullYear()),fetch(this.$store.state.fetchPath+"/protocolAccountDetails/update",{method:"POST",headers:this.$store.state.fetchHeader,body:this.utils.formatParams(this.updformValidate),credentials:"include"}).then(function(e){if(200==e.status)return e.text();t.$Message.error("请求失败！")}).then(function(){t.handleListApproveHistory()})}}},o=(a("c112"),a("2877")),l={data:function(){return{file:null,loadingStatus:!1}},methods:{}},s={name:"xyhmxlbCont",data:function(){return{activeIndex:0}},components:{xyhmxlb:Object(o.a)(i,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Form",{attrs:{"label-width":80}},[a("Row",[a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{label:"产品类别:"}},[a("Select",{model:{value:t.xyhmxlbData.varieties,callback:function(e){t.$set(t.xyhmxlbData,"varieties",e)},expression:"xyhmxlbData.varieties"}},[a("Option",{attrs:{value:""}},[t._v("全部")]),a("Option",{attrs:{value:"热板"}},[t._v("热板")]),a("Option",{attrs:{value:"冷板"}},[t._v("冷板")]),a("Option",{attrs:{value:"宽厚板"}},[t._v("宽厚板")]),a("Option",{attrs:{value:"棒线"}},[t._v("棒线")]),a("Option",{attrs:{value:"型带"}},[t._v("型带")])],1)],1)],1),a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{label:"上传时间:"}},[a("DatePicker",{staticStyle:{width:"180px"},attrs:{type:"datetimerange",format:"yyyy-MM-dd",placeholder:"请选择上传时间"},on:{"on-change":t.serTime}})],1)],1),a("Col",{staticStyle:{"margin-left":"80px"},attrs:{span:"4"}},[a("FormItem",{attrs:{label:"协议年份:"}},[a("DatePicker",{attrs:{type:"year"},model:{value:t.year,callback:function(e){t.year=e},expression:"year"}})],1)],1),a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{label:"钢厂:"}},[a("Select",{model:{value:t.xyhmxlbData.steelMills,callback:function(e){t.$set(t.xyhmxlbData,"steelMills",e)},expression:"xyhmxlbData.steelMills"}},[a("Option",{attrs:{value:""}},[t._v("全部")]),a("Option",{attrs:{value:"唐钢"}},[t._v("唐钢")]),a("Option",{attrs:{value:"邯钢"}},[t._v("邯钢")]),a("Option",{attrs:{value:"宣钢"}},[t._v("宣钢")]),a("Option",{attrs:{value:"承钢"}},[t._v("承钢")]),a("Option",{attrs:{value:"舞钢"}},[t._v("舞钢")])],1)],1)],1),a("Col",{staticStyle:{float:"right"},attrs:{span:"6"}},[a("Button",{staticStyle:{"magin-left":"20px"},attrs:{type:"primary",icon:"ios-search"},on:{click:t.search}},[t._v("查询")]),a("Button",{staticStyle:{"magin-left":"20px"},attrs:{type:"primary"},on:{click:t.clearall}},[t._v("清空")]),a("Button",{staticStyle:{"magin-left":"20px"},attrs:{type:"primary",icon:"ios-cloud-download-outline"},on:{click:t.downLoad}},[t._v("导出")])],1)],1)],1),a("Table",{ref:"table",staticStyle:{"margin-top":"20px"},attrs:{border:"",stripe:"",columns:t.columns12,data:t.fecthdata6},scopedSlots:t._u([{key:"name",fn:function(e){var n=e.row;return[a("strong",[t._v(t._s(n.name))])]}},{key:"action",fn:function(e){var n=e.row;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{size:"small"},on:{click:function(e){return t.updD(n)}}},[t._v("修改")]),a("Button",{staticStyle:{background:"#ff6969",color:"#fff"},attrs:{size:"small"},on:{click:function(e){return t.remove(n)}}},[t._v("删除")])]}}])}),a("Page",{staticClass:"paging",staticStyle:{"margin-top":"20px"},attrs:{total:t.dataCount,"page-size":t.pageSize,"show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":t.changepage}}),a("Modal",{attrs:{title:"角色编辑",closable:!1},on:{"on-ok":t.updok},model:{value:t.updModal,callback:function(e){t.updModal=e},expression:"updModal"}},[a("Form",{attrs:{model:t.updformValidate,rules:t.updruleValidate,"label-width":90}},[a("FormItem",{attrs:{label:"协议年份"}},[a("DatePicker",{attrs:{type:"year"},model:{value:t.updYear,callback:function(e){t.updYear=e},expression:"updYear"}})],1),a("FormItem",{attrs:{label:"用户名称",prop:"accountName"}},[a("Input",{attrs:{placeholder:"请输入用户名称"},model:{value:t.updformValidate.accountName,callback:function(e){t.$set(t.updformValidate,"accountName",e)},expression:"updformValidate.accountName"}})],1),a("FormItem",{attrs:{label:"品种",prop:"varieties"}},[a("Select",{model:{value:t.updformValidate.varieties,callback:function(e){t.$set(t.updformValidate,"varieties",e)},expression:"updformValidate.varieties"}},[a("Option",{attrs:{value:""}},[t._v("全部")]),a("Option",{attrs:{value:"热板"}},[t._v("热板")]),a("Option",{attrs:{value:"冷板"}},[t._v("冷板")]),a("Option",{attrs:{value:"宽厚板"}},[t._v("宽厚板")]),a("Option",{attrs:{value:"棒线"}},[t._v("棒线")]),a("Option",{attrs:{value:"型带"}},[t._v("型带")])],1)],1),a("FormItem",{attrs:{label:"主销售区域"}},[a("Input",{attrs:{placeholder:"请输入主销售区域"},model:{value:t.updformValidate.mainSalesRegional,callback:function(e){t.$set(t.updformValidate,"mainSalesRegional",e)},expression:"updformValidate.mainSalesRegional"}})],1),a("FormItem",{attrs:{label:"辅助销售区域一"}},[a("Input",{attrs:{placeholder:"请输入辅助销售区域一"},model:{value:t.updformValidate.aidedSalesRegionalOne,callback:function(e){t.$set(t.updformValidate,"aidedSalesRegionalOne",e)},expression:"updformValidate.aidedSalesRegionalOne"}})],1),a("FormItem",{attrs:{label:"辅助销售区域二"}},[a("Input",{attrs:{placeholder:"请输入辅助销售区域二"},model:{value:t.updformValidate.aidedSalesRegionalTwo,callback:function(e){t.$set(t.updformValidate,"aidedSalesRegionalTwo",e)},expression:"updformValidate.aidedSalesRegionalTwo"}})],1),a("FormItem",{attrs:{label:"钢厂",prop:"steelMills"}},[a("Select",{model:{value:t.updformValidate.steelMills,callback:function(e){t.$set(t.updformValidate,"steelMills",e)},expression:"updformValidate.steelMills"}},[a("Option",{attrs:{value:""}},[t._v("全部")]),a("Option",{attrs:{value:"唐钢"}},[t._v("唐钢")]),a("Option",{attrs:{value:"邯钢"}},[t._v("邯钢")]),a("Option",{attrs:{value:"宣钢"}},[t._v("宣钢")]),a("Option",{attrs:{value:"承钢"}},[t._v("承钢")]),a("Option",{attrs:{value:"舞钢"}},[t._v("舞钢")])],1)],1),a("FormItem",{attrs:{label:"年协议量(吨)",prop:"annualAgreementVolume"}},[a("Input",{attrs:{placeholder:"请输入年协议量"},model:{value:t.updformValidate.annualAgreementVolume,callback:function(e){t.$set(t.updformValidate,"annualAgreementVolume",e)},expression:"updformValidate.annualAgreementVolume"}})],1)],1)],1)],1)},[],!1,null,"9685ae78",null).exports,xyhmxlbUpload:Object(o.a)(l,function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("Upload",{attrs:{multiple:"",type:"drag",action:"http://47.94.21.130:8081/protocolAccountDetails/importexcel"}},[e("div",{staticStyle:{padding:"20px 0"}},[e("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"52"}}),e("p",[this._v("点击选择或拖拽文件")])],1)])],1)},[],!1,null,null,null).exports},methods:{onTabClick:function(t){this.activeIndex=t}}},c=Object(o.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Tabs",{attrs:{type:"card"},on:{"tab-click":t.onTabClick},model:{value:t.activeIndex,callback:function(e){t.activeIndex=e},expression:"activeIndex"}},[a("TabPane",{attrs:{label:"协议户明细列表"}},[a("xyhmxlb")],1),a("TabPane",{attrs:{label:"明细批量导入"}},[a("xyhmxlbUpload")],1)],1)},[],!1,null,"baef1124",null);e.default=c.exports},"5d6b":function(t,e,a){var n=a("e53d").parseInt,r=a("a1ce").trim,i=a("e692"),o=/^[-+]?0[xX]/;t.exports=8!==n(i+"08")||22!==n(i+"0x16")?function(t,e){var a=r(String(t),3);return n(a,e>>>0||(o.test(a)?16:10))}:n},"63b6":function(t,e,a){var n=a("e53d"),r=a("584a"),i=a("d864"),o=a("35e8"),l=a("07e3"),s="prototype",c=function(t,e,a){var u,d,p,f=t&c.F,m=t&c.G,h=t&c.S,v=t&c.P,x=t&c.B,b=t&c.W,y=m?r:r[e]||(r[e]={}),g=y[s],O=m?n:h?n[e]:(n[e]||{})[s];for(u in m&&(a=e),a)(d=!f&&O&&void 0!==O[u])&&l(y,u)||(p=d?O[u]:a[u],y[u]=m&&"function"!=typeof O[u]?a[u]:x&&d?i(p,n):b&&O[u]==p?function(t){var e=function(e,a,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,a)}return new t(e,a,n)}return t.apply(this,arguments)};return e[s]=t[s],e}(p):v&&"function"==typeof p?i(Function.call,p):p,v&&((y.virtual||(y.virtual={}))[u]=p,t&c.R&&g&&!g[u]&&o(g,u,p)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},"70ba":function(t,e,a){},7445:function(t,e,a){var n=a("63b6"),r=a("5d6b");n(n.G+n.F*(parseInt!=r),{parseInt:r})},"794b":function(t,e,a){t.exports=!a("8e60")&&!a("294c")(function(){return 7!=Object.defineProperty(a("1ec9")("div"),"a",{get:function(){return 7}}).a})},"79aa":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"8e60":function(t,e,a){t.exports=!a("294c")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},a1ce:function(t,e,a){var n=a("63b6"),r=a("25eb"),i=a("294c"),o=a("e692"),l="["+o+"]",s=RegExp("^"+l+l+"*"),c=RegExp(l+l+"*$"),u=function(t,e,a){var r={},l=i(function(){return!!o[t]()||"​"!="​"[t]()}),s=r[t]=l?e(d):o[t];a&&(r[a]=s),n(n.P+n.F*l,"String",r)},d=u.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(s,"")),2&e&&(t=t.replace(c,"")),t};t.exports=u},aebd:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},b9e9:function(t,e,a){a("7445"),t.exports=a("584a").parseInt},c112:function(t,e,a){"use strict";var n=a("70ba");a.n(n).a},d864:function(t,e,a){var n=a("79aa");t.exports=function(t,e,a){if(n(t),void 0===e)return t;switch(a){case 1:return function(a){return t.call(e,a)};case 2:return function(a,n){return t.call(e,a,n)};case 3:return function(a,n,r){return t.call(e,a,n,r)}}return function(){return t.apply(e,arguments)}}},d9f6:function(t,e,a){var n=a("e4ae"),r=a("794b"),i=a("1bc3"),o=Object.defineProperty;e.f=a("8e60")?Object.defineProperty:function(t,e,a){if(n(t),e=i(e,!0),n(a),r)try{return o(t,e,a)}catch(t){}if("get"in a||"set"in a)throw TypeError("Accessors not supported!");return"value"in a&&(t[e]=a.value),t}},e4ae:function(t,e,a){var n=a("f772");t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},e53d:function(t,e){var a=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=a)},e692:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},e814:function(t,e,a){t.exports=a("b9e9")},f772:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}}}]);