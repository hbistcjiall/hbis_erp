(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-79dff18c"],{a6cb:function(t,e,a){"use strict";var s=a("fe1e");a.n(s).a},ee95:function(t,e,a){"use strict";a.r(e);var s={name:"zyphjh",data:function(){return{activeIndex:0,byValue:{type:""},columns1:[{title:"品种",align:"center",key:"NAME"},{title:"计划量",align:"center",key:"JSL"},{title:"品种钢",align:"center",key:"PZGL"},{title:"比例",align:"center",key:"BILI"}],columns2:[{title:"钢厂",align:"center",key:"COMPANYNAME"},{title:"计划量",align:"center",key:"JSL"},{title:"品种钢",align:"center",key:"PZGL"},{title:"比例",align:"center",key:"BILI"}],resDatas1:[],resDatas2:[],resDatas3:[],resDatas4:[],xhdata:[],option:{},column:{chart:{type:"column"},colors:["#386489","#3689cf"],title:{text:'<span style="font-size:16px;font-weight: bold">钢厂计划</span><br>'},xAxis:{categories:[],crosshair:!0},yAxis:{min:0,title:{text:"单位（万）",align:"high"},labels:{overflow:"justify"}},plotOptions:{column:{dataLabels:{enabled:!0}}},credits:{enabled:!1},series:[{name:"现货",data:[]},{name:"计划量",data:[]}]},pieOption:{},pie:{chart:{type:"pie"},colors:["#75b9e6","#4aa3de","#c1e0ff","#77bbff","#33577b","#6ba6e0","#3d8ec4","#4fc1e9","#96bdd3","#73bbc4"],title:{text:'<span style="font-size:16px;font-weight: bold">销售主体</span><br>'},subtitle:{text:""},tooltip:{percentageDecimals:2,headerFormat:'<span style="font-size:11px">{series.name}</span><br>',pointFormat:'<span style="color:{point.color}">{point.name}</span>: <b>{point.b:.2f}%</b><br/>'},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.y:.2f}万吨"}}},credits:{enabled:!1},series:[{name:"百分比",data:[]}]}}},components:{XChart:a("e9b1").a},mounted:function(){this.handleListApproveHistory()},methods:{handleListApproveHistory:function(){var t=this;fetch(this.$store.state.fetchPath+"/protocolAccountDetails/resourceplanone",{method:"POST",headers:this.$store.state.fetchHeader,body:this.utils.formatParams(this.byValue),credentials:"include"}).then(function(e){if(200==e.status)return e.text();t.$Message.error("请求失败！")}).then(function(e){if(e=e&&0<e.length?JSON.parse(e):[],0<(t.resDatas1=e).length){for(var a=[],s=1;s<e.length;s++)a.push({name:e[s].COMPANYNAME,y:e[s].ZYFKIMG,b:e[s].BILI});t.pie.series[0].data=a,t.pie.subtitle.text='<span style="font-size:14px;color:black;font-weight: bold">'+e[0].COMPANYNAME+":"+e[0].ZYFKIMG+"万吨</span>"}else t.pie.series[0].data=[{name:"唐钢",y:0,b:0},{name:"邯钢",y:0,b:0},{name:"宣钢",y:0,b:0},{name:"承钢",y:0,b:0},{name:"舞钢",y:0,b:0},{name:"石钢",y:0,b:0},{name:"衡板",y:0,b:0},{name:"邯宝",y:0,b:0}],t.pie.subtitle.text='<span style="font-size:14px;color:black;font-weight: bold">集团产销资源总量：0万吨</span>';t.pieOption=t.pie}),fetch(this.$store.state.fetchPath+"/protocolAccountDetails/resourceplantwo",{method:"POST",headers:this.$store.state.fetchHeader,body:this.utils.formatParams(this.byValue),credentials:"include"}).then(function(e){if(200==e.status)return e.text();t.$Message.error("请求失败！")}).then(function(e){if(e=e&&0<e.length?JSON.parse(e):[],0<(t.resDatas2=e).length){for(var a=[],s=[],n=[],i=0;i<e.length;i++)s.push(e[i].JH),a.push(e[i].XH),n.push(e[i].COMPANYNAME);t.column.series[1].data=s,t.column.series[0].data=a,t.column.xAxis.categories=n}else t.column.series[1].data=[0,0,0,0,0,0,0,0],t.column.series[0].data=[0,0,0,0,0,0,0,0],t.column.xAxis.categories=["唐钢","邯钢","宣钢","承钢","舞钢","石钢","衡板","邯宝"];t.option=t.column}),fetch(this.$store.state.fetchPath+"/protocolAccountDetails/resourceplanthrid",{method:"POST",headers:this.$store.state.fetchHeader,body:this.utils.formatParams(this.byValue),credentials:"include"}).then(function(e){if(200==e.status)return e.text();t.$Message.error("请求失败！")}).then(function(e){e=e&&0<e.length?JSON.parse(e):[],t.resDatas3=e;for(var a=0;a<t.resDatas3.length;a++)t.resDatas3[a].BILI=t.resDatas3[a].BILI}),fetch(this.$store.state.fetchPath+"/protocolAccountDetails/resourceplanfour",{method:"POST",headers:this.$store.state.fetchHeader,body:this.utils.formatParams(this.byValue),credentials:"include"}).then(function(e){if(200==e.status)return e.text();t.$Message.error("请求失败！")}).then(function(e){e=e&&0<e.length?JSON.parse(e):[],t.resDatas4=e;for(var a=0;a<t.resDatas4.length;a++)t.resDatas4[a].BILI=t.resDatas4[a].BILI})},getAll:function(){this.byValue.type="",this.handleListApproveHistory()},getRb:function(){this.byValue.type="热板",this.handleListApproveHistory()},getLb:function(){this.byValue.type="冷板",this.handleListApproveHistory()},getKhb:function(){this.byValue.type="宽厚板",this.handleListApproveHistory()},getXd:function(){this.byValue.type="型带",this.handleListApproveHistory()},getBx:function(){this.byValue.type="棒线",this.handleListApproveHistory()}}},n=(a("a6cb"),a("2877")),i=Object(n.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Row",[a("Button",{attrs:{type:"primary"},on:{click:t.getAll}},[t._v("全部")]),a("Button",{staticStyle:{"margin-left":"9px"},attrs:{type:"primary"},on:{click:t.getRb}},[t._v("热板")]),a("Button",{staticStyle:{"margin-left":"9px"},attrs:{type:"primary"},on:{click:t.getLb}},[t._v("冷板")]),a("Button",{staticStyle:{"margin-left":"9px"},attrs:{type:"primary"},on:{click:t.getKhb}},[t._v("宽厚板")]),a("Button",{staticStyle:{"margin-left":"9px"},attrs:{type:"primary"},on:{click:t.getBx}},[t._v("棒线")]),a("Button",{staticStyle:{"margin-left":"9px"},attrs:{type:"primary"},on:{click:t.getXd}},[t._v("型带")])],1),a("div",[a("div",{staticClass:"LeftImg"},[a("x-chart",{attrs:{id:"all_pieValue",option:t.pieOption}})],1),a("div",{staticClass:"RigtImg"},[a("x-chart",{attrs:{id:"all_columnValue",option:t.option}})],1)]),a("div",[a("div",{staticClass:"LeftImg"},[a("Table",{staticStyle:{"margin-top":"20px"},attrs:{border:"",stripe:"",columns:t.columns1,data:t.resDatas3,id:"allTable1"},scopedSlots:t._u([{key:"name",fn:function(e){var s=e.row;return[a("strong",[t._v(t._s(s.name))])]}}])})],1),a("div",{staticClass:"RigtImg"},[a("Table",{staticStyle:{"margin-top":"20px"},attrs:{border:"",stripe:"",columns:t.columns2,data:t.resDatas4,id:"allTable2"},scopedSlots:t._u([{key:"name",fn:function(e){var s=e.row;return[a("strong",[t._v(t._s(s.name))])]}}])})],1)])],1)},[],!1,null,"4a9ebb7e",null);e.default=i.exports},fe1e:function(t,e,a){}}]);