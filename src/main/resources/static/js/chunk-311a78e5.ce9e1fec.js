(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-311a78e5"],{"7d96":function(t,e,a){},"8cb4":function(t,e,a){"use strict";a.r(e);var i={name:"pzgjs_zrzt",data:function(){return{switchTime:!0,year:new Date,startTime:new Date,endTime:this.utils.formatMonthEnd(),zrbm:"",columns:[{title:"责任部门",key:"COMPANYNAME",align:"center"},{title:"2019年1月内贸结算",key:"nmjs",align:"center",children:[{title:"总量",key:"FKIMG",align:"center"},{title:"品种钢量",key:"PZGL",align:"center"},{title:"比重",key:"BZ",align:"center"},{title:"目标量",key:"MBL",align:"center"},{title:"完成/目标",key:"PZGL/MBL",align:"center"}]}],data:[]}},mounted:function(){this.getList()},methods:{changeSwitch:function(){var t=new Date;this.switchTime?(this.startTime=t,this.endTime=this.utils.formatMonthEnd()):this.year=t},getList:function(){var t=this,e={};this.zrbm&&(e.zrbm=this.zrbm);var a="startTime=",i="&endTime=";this.switchTime?(a+=this.utils.formatMonthStart(this.startTime),i+=this.utils.formatMonthStart(this.endTime)):(a+=this.utils.formatYearStart(this.year),i+=this.utils.formatYearEnd(this.year)),fetch(this.$store.state.fetchPath+"/scm-steel-settle/getzrbm",{method:"POST",headers:this.$store.state.fetchHeader,body:a+i+"&"+this.utils.formatParams(e),credentials:"include"}).then(function(e){return 200!=e.status?t.$Message.error("请求失败！"):e.text()}).then(function(e){e=e&&0<e.length?JSON.parse(e):[],t.data=e})},downLoad:function(){this.$refs.table.exportCsv({filename:"结算完成（责任主体）明细"})}}},s=(a("e974"),a("2877")),n=Object(s.a)(i,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Form",{attrs:{"label-width":100}},[a("Row",[t.switchTime?t._e():a("Col",{attrs:{span:"6"}},[a("FormItem",{staticStyle:{width:"250px"},attrs:{label:"年份："}},[a("DatePicker",{staticStyle:{width:"150px"},attrs:{type:"year",placeholder:"请选择年份",editable:!1,clearable:!1},model:{value:t.year,callback:function(e){t.year=e},expression:"year"}})],1)],1),t.switchTime?a("Col",{attrs:{span:"4"}},[a("FormItem",{staticStyle:{width:"150px"},attrs:{label:"月份："}},[a("DatePicker",{staticStyle:{width:"150px"},attrs:{type:"month",placeholder:"起始月份",editable:!1,clearable:!1},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}})],1)],1):t._e(),t.switchTime?a("Col",{staticStyle:{"margin-left":"-40px"},attrs:{span:"4"}},[a("FormItem",{staticStyle:{width:"150px"}},[a("DatePicker",{staticStyle:{width:"150px"},attrs:{type:"month",placeholder:"终止月份",editable:!1,clearable:!1},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1)],1):t._e(),a("Col",{attrs:{span:"3"}},[a("FormItem",{staticStyle:{width:"50px"}},[a("i-switch",{on:{"on-change":t.changeSwitch},model:{value:t.switchTime,callback:function(e){t.switchTime=e},expression:"switchTime"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("年")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("月")])])],1)],1),a("Col",{attrs:{span:"5"}},[a("FormItem",{staticStyle:{width:"180px"},attrs:{label:"责任单位："}},[a("Select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择责任单位"},model:{value:t.zrbm,callback:function(e){t.zrbm=e},expression:"zrbm"}},[a("Option",{attrs:{value:""}},[t._v("全部")]),a("Option",{attrs:{value:"热板公司"}},[t._v("热板公司")]),a("Option",{attrs:{value:"冷板公司"}},[t._v("冷板公司")]),a("Option",{attrs:{value:"宽厚板公司"}},[t._v("宽厚板公司")]),a("Option",{attrs:{value:"棒线公司"}},[t._v("棒线公司")]),a("Option",{attrs:{value:"型材公司"}},[t._v("型材公司")]),a("Option",{attrs:{value:"唐钢分公司"}},[t._v("唐钢分公司")]),a("Option",{attrs:{value:"邯钢分公司"}},[t._v("邯钢分公司")]),a("Option",{attrs:{value:"宣钢分公司"}},[t._v("宣钢分公司")]),a("Option",{attrs:{value:"承钢分公司"}},[t._v("承钢分公司")]),a("Option",{attrs:{value:"舞钢分公司"}},[t._v("舞钢分公司")]),a("Option",{attrs:{value:"石钢公司"}},[t._v("石钢公司")]),a("Option",{attrs:{value:"衡板公司"}},[t._v("衡板公司")])],1)],1)],1),a("Col",{attrs:{span:"4"}},[a("Button",{attrs:{icon:"ios-search",type:"primary"},on:{click:function(e){return t.getList()}}},[t._v("查询")]),a("Button",{attrs:{icon:"ios-cloud-download-outline"},on:{click:function(e){return t.downLoad()}}},[t._v("导出")])],1)],1)],1),a("Table",{ref:"table",attrs:{columns:t.columns,data:t.data,border:"",height:"500"}})],1)},[],!1,null,"629df9c2",null);e.default=n.exports},e974:function(t,e,a){"use strict";var i=a("7d96");a.n(i).a}}]);