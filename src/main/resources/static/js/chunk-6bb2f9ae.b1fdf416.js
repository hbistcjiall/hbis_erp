(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6bb2f9ae"],{bd47:function(t,e,i){"use strict";i.r(e);var a={name:"jswcqk",data:function(){return{byValue:{endTime:"2019-06-01 00:00:00",startTime:"2016-01-01 00:00:00"},active:"",SubStarTime_month:"",SubStarTime_year:"",option:{},column:{chart:{zoomType:"xy"},colors:["#3689cf","#cc0000"],title:{text:""},subtitle:{text:""},xAxis:[{categories:[],crosshair:!0}],yAxis:[{labels:{format:"{value}",style:{color:""}},title:{text:"结算均价(元)",style:{color:""}}},{title:{text:"结算(万吨)",style:{color:""}},labels:{format:"{value}",style:{color:""}},opposite:!0}],tooltip:{shared:!0},plotOptions:{column:{dataLabels:{enabled:!0}},spline:{dataLabels:{enabled:!0,color:"#cc0000"}}},credits:{enabled:!1},legend:{y:20},series:[{name:"结算（万吨）",type:"column",yAxis:1,data:[]},{name:"结算均价（元）",type:"spline",data:[]}]},pieOption:{},pie:{chart:{type:"pie"},colors:["#75b9e6","#4aa3de","#c1e0ff","#77bbff","#33577b","#6ba6e0","#3d8ec4","#4fc1e9","#96bdd3","#73bbc4"],title:{text:""},subtitle:{text:""},tooltip:{percentageDecimals:2,headerFormat:'<span style="font-size:11px">{series.name}</span><br>',pointFormat:'<span style="color:{point.color}">{point.name}</span>: <b>{point.y:.2f}</b><br/>'},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.y:.2f}万吨"},showInLegend:!0}},credits:{enabled:!1},series:[{name:"结算量",data:[]}]}}},components:{XChart:i("e9b1").a},mounted:function(){this.getTime(1)},methods:{getTime:function(t){var e=this;this.pieOption={},this.option={};var i="startTime=",a="&endTime=";switch(t){case 1:i+=this.utils.formatMonthStart(),a+=this.utils.formatMonthEnd(),this.SubStarTime_year=i.substring(10,14),this.SubStarTime_month=i.substring(15,17),this.pie.title.text='<span style="font-size:14px;color:black;font-weight: bold">'+this.SubStarTime_year+"年"+this.SubStarTime_month+"月结算完成情况（品种）</span>",this.column.title.text='<span style="font-size:14px;color:black;font-weight: bold">'+this.SubStarTime_year+"年"+this.SubStarTime_month+"月结算完成情况（品种）</span>";break;case 2:i+=this.utils.formatMonthBefore(),a+=this.utils.formatMonthStart(),this.SubStarTime_year=i.substring(10,14),this.SubStarTime_month=i.substring(15,17),this.pie.title.text='<span style="font-size:14px;color:black;font-weight: bold">'+this.SubStarTime_year+"年"+this.SubStarTime_month+"月结算完成情况（品种）</span>",this.column.title.text='<span style="font-size:14px;color:black;font-weight: bold">'+this.SubStarTime_year+"年"+this.SubStarTime_month+"月结算完成情况（品种）</span>";break;case 3:i+=this.utils.formatYearStart(new Date),a+=this.utils.formatYearEnd(new Date),this.SubStarTime_year=i.substring(10,14),this.pie.title.text='<span style="font-size:14px;color:black;font-weight: bold">'+this.SubStarTime_year+"年结算完成情况（品种）</span>",this.column.title.text='<span style="font-size:14px;color:black;font-weight: bold">'+this.SubStarTime_year+"年结算完成情况（品种）</span>"}fetch(this.$store.state.fetchPath+"/scm-steel-settle/getpzjszl",{method:"POST",headers:this.$store.state.fetchHeader,body:i+a,credentials:"include"}).then(function(t){if(200==t.status)return t.text();e.$Message.error("请求失败！")}).then(function(t){if(0<(t=t&&0<t.length?JSON.parse(t):[]).length){for(var i=[],a=[],s=[],o=[],n=0;n<t.length;n++)i.push(t[n].JSL),a.push(t[n].JSJJ),s.push(t[n].VARIETY),o.push({name:t[n].VARIETY,y:t[n].JSL});e.column.series[1].data=a,e.column.series[0].data=i,e.column.xAxis[0].categories=s,e.pie.series[0].data=o}else e.column.series[1].data=[0,0,0,0,0],e.column.series[0].data=[0,0,0,0,0],e.column.xAxis[0].categories=["热板","冷板","宽厚板","棒线","型带"],e.pie.series[0].data=[{name:"热板",y:0},{name:"冷板",y:0},{name:"宽厚板",y:0},{name:"棒线",y:0},{name:"型带",y:0}];e.option=e.column,e.pieOption=e.pie})}}},s=(i("ee9c"),i("2877")),o=Object(s.a)(a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[i("button",{on:{click:function(e){return t.getTime(1)}}},[t._v("本月")]),i("button",{on:{click:function(e){return t.getTime(2)}}},[t._v("上月")]),i("button",{on:{click:function(e){return t.getTime(3)}}},[t._v("本年")])]),i("div",{staticClass:"chartStyle"},[i("div",{staticStyle:{width:"50%",float:"left","border-right":"1px solid #3497db"}},[i("x-chart",{attrs:{id:"pieValue",option:t.pieOption}})],1),i("div",{staticStyle:{width:"49%",float:"right"}},[i("x-chart",{attrs:{id:"columnValue",option:t.option}})],1)])])},[],!1,null,"f257a304",null);e.default=o.exports},e961:function(t,e,i){},ee9c:function(t,e,i){"use strict";var a=i("e961");i.n(a).a}}]);